| [<- до лаборних робіт](README.md) | [на основну сторінку курсу](../README.md) |
| --------------------------------- | ----------------------------------------- |
|                                   |                                           |

# Лабораторна робота №6. Основи роботи з базами даних та SQL

Рекомендується попередньо ознайомитися з матеріалами лекцій по:

-  [базам даних](../Лекц/db.md)
-  [SQL](../Лекц/sql1.md)
-  [довідник SQL](../Довідники/SQL.md)

##### План.

###### Частина 1. 

- Встановлення та адміністрування СКБД "MariaDB" на MS Windows
- Робота з SQL

###### Частина 2.

- Робота з SQL в NodeRED
- Приклад реалізації завдання

###### Частина 3.

- Приклад реалізації завдання на RPI    

## Частина 1. Робота з MariaDB на MS Windows.

###### 1.Встановлення СКБД MariaDB 

- Встановіть на ПК СКБД "MariaDB". Інструкція зі встановлення доступна за [посиланням](../Довідники/windows_install.md).

- зробіть пробне підключення до локального СКБД  відповідно до описаної у інструкції встановлення.

###### 2.Створення БД.  

- ознайомтеся з довідником по роботі з клієнтською утилітою "HeidiSQL" за [посиланням](../Довідники/dbviz.md) 
- за допомогою редактору "Notepad++" або аналогічного створіть текстовий файл і виберіть мову відображення SQL 
- створіть нову базу даних з іменем "DB1"
- знайдіть відповідний SQL запит на створення у нижньому вікні журналу запитів, скопіюйте його в створений текстовий файл; **надалі усі запити, які буде вказано в роботі скопіювати, будете добавляти в цей файл в нижній рядок**.    

###### 3.Створення таблиці та полів таблиці за допомогою клієнтської утиліти.

- натисніть один раз по базі даних, вона активується, про що буде вказувати відповідний запис в журналі запитів (`USE`); скопіюйте запит `USE` в текстовий файл;  
- створіть у базі даних таблицю, з двома записами `filed1` та `field2` 

![](dbmedia/1.png)

- натисніть зберегти; буде створена нова таблиця;
- знайдіть відповідний запис `CREATE TABLE`, та скопіюйте його в текстовий файл;

###### 4.Ручне заповнення записів за допомогою клієнтської утиліти.

- перейдіть на закладку "Дані"
- добавте 3 записи
- усі SQL запити `INSERT INTO` скопіюйте у файл;

###### 5.Добавлення поля та запису з `Timestamp`.

- перейдіть на поле "Таблиця", в якій конфігуруються поля;
- добавте нове поле `TS` типу `TIMESTAMP`, куди за замовчуванням буде записуватися плинний дата та час виражений в секундах з 1970 року (функція `CURRENT_TIMESTAMP()`), перемістіть поле, щоб воно було першим і натисніть "зберегти";  

![](dbmedia/2.png)

- знайдіть відповідний запис в журналі (`ALTER TABLE`) та скопіюйте його в текстовий файл;
- перейдіть на закладку дані, добавте ще один запис, але в поле `TS` не вписуйте жодного значення; 
- після добавлення натисніть "оновити", буде видно що в поле `TS` записалося автоматично значення;

###### 6.Створення індексного поля. 

- Створіть первинний індекс для поля `TS`. 

![](dbmedia/4.png)

- натисніть кнопку "Зберегти";

- у результаті може вийти помилка, що дані в полі не є унікальними, перейдіть на вкладку "Дані" та виправіть дату та час, щоб дані були унікальними, після чого знову перейдіть на вкладу "Таблиця" і натисніть зберегти

  ![](dbmedia/5.png)

- скопіюйте запит `ALTER TABLE` зі зміною поля на індексне в текстовий файл 

7.Створення БД, таблиці та полів таблиці за допомогою запита SQL.

- уважно передивіться текстовий файл з записами та проаналізуйте кожен з них
- змініть цей файл таким чином, щоб:
  - він створював базу даних 'DB3', 
  - таблицю в ньому, одразу з трьом полями, один з яких індексний 
  - створював  один запис;
- в утиліті "HeidiSQL" перейдіть на вкладку "Запит" і перенесіть туди цей зміст файлу
-  натисніть "Виконати SQL", якщо виникає повідомлення про помилку, проаналізуйте і виправіть код і знову повторіть; можливо виникне необхідність видалення бази даних 'DB3'

8.Заповнення записів за допомогою SQL.

 

| [<- до лаборних робіт](README.md) | [на основну сторінку курсу](../README.md) |
| --------------------------------- | ----------------------------------------- |
|                                   |                                           |